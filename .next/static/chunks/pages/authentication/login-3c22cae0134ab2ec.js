(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{7287:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/authentication/login",function(){return t(9695)}])},8401:function(e){e.exports={App:"authenticate_App__hW7xF",header:"authenticate_header__yFp74",sidebar:"authenticate_sidebar__rDpq_",opened:"authenticate_opened__QquQs",page_wrapper:"authenticate_page_wrapper__TjNjd",content:"authenticate_content__cpoC0",mainNav:"authenticate_mainNav__rlpNr",header_left:"authenticate_header_left__Yy_9A",header_right:"authenticate_header_right__kd0kV",logo:"authenticate_logo___ySsk",toggleSidebar:"authenticate_toggleSidebar__lgF4D",theHead:"authenticate_theHead__SSWS_",badge:"authenticate_badge__LneqN",img:"authenticate_img__Fq17b",user:"authenticate_user__jIRxJ",dropdown_menu:"authenticate_dropdown_menu__61DoN",messages:"authenticate_messages__0BwC7",notifications:"authenticate_notifications__pS3li",heading:"authenticate_heading__5nAdD",alert:"authenticate_alert__nrdrw",message:"authenticate_message__fIItZ",user_header:"authenticate_user_header__p1R4b",avatar:"authenticate_avatar___uQfO",authenticate:"authenticate_authenticate__qTC0D",circle:"authenticate_circle__9lsks",signup:"authenticate_signup__Y__vQ"}},9695:function(e,a,t){"use strict";t.r(a);var n=t(5893),i=t(6154),r=t(7294),s=t(1163),_=t(905),c=t(8044),o=t(8401);a.default=e=>{let{backendhost:a}=e,[t,l]=(0,r.useState)(""),[h,u]=(0,r.useState)({email:"",password:""}),d=(0,c.E)(c.R.header.logo),p=(0,s.useRouter)(),g=async()=>{console.log("login handle");try{console.log("here");let e=await i.Z.post("".concat(a,"/members/login"),{email:h.email,password:h.password});console.log("here1"),200===e.status&&(localStorage.setItem("logged_email",JSON.stringify(h.email)),l(""),u({email:"",password:""}),p.push(_.Xy.find(e=>"Dashboard"===e.name).path))}catch(e){try{let e=await i.Z.post("".concat(a,"/members/check_email"),{email:h.email});200===e.status&&e.data.exists?l("Invalid email or password"):l("User account does not exist")}catch(e){l("Server error, refresh"),console.log(e)}}},m=e=>{let{name:a,value:t}=e.target;u(e=>({...e,[a]:t}))};return(0,n.jsx)("section",{id:o.authenticate,children:(0,n.jsx)("aside",{children:(0,n.jsxs)("form",{id:o.login,children:[(0,n.jsx)("div",{className:o.circle,children:(0,n.jsx)("img",{src:d,alt:"logo"})}),(0,n.jsx)("h3",{children:"RWANDA SCOUTS ASSOCIATION"}),(0,n.jsx)("h4",{children:"Admin Login"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("p",{children:"Email"}),(0,n.jsx)("input",{id:o.email,placeholder:"Enter Email",value:h.email,onChange:m,name:"email",type:"email",autoComplete:"current-email",required:!0})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("p",{children:"Password"}),(0,n.jsx)("input",{id:o.psw,placeholder:"Enter Password",value:h.password,onChange:m,name:"password",type:"password",autoComplete:"current-password",required:!0})]}),(0,n.jsx)("button",{type:"button",onClick:g,children:"LOGIN"}),(0,n.jsxs)("p",{children:["Do not have an account?"," ",_.Xy.find(e=>"Signup"===e.name)&&(0,n.jsx)("a",{href:_.Xy.find(e=>"Signup"===e.name).path,children:"Signup"})]}),t&&(0,n.jsx)("p",{className:"error",children:t})]})})})}}},function(e){e.O(0,[154,774,888,179],function(){return e(e.s=7287)}),_N_E=e.O()}]);