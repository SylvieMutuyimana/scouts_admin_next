(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[545],{9350:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/authentication/signup",function(){return t(9825)}])},8401:function(e){e.exports={App:"authenticate_App__hW7xF",header:"authenticate_header__yFp74",sidebar:"authenticate_sidebar__rDpq_",opened:"authenticate_opened__QquQs",page_wrapper:"authenticate_page_wrapper__TjNjd",content:"authenticate_content__cpoC0",mainNav:"authenticate_mainNav__rlpNr",header_left:"authenticate_header_left__Yy_9A",header_right:"authenticate_header_right__kd0kV",logo:"authenticate_logo___ySsk",toggleSidebar:"authenticate_toggleSidebar__lgF4D",theHead:"authenticate_theHead__SSWS_",badge:"authenticate_badge__LneqN",img:"authenticate_img__Fq17b",user:"authenticate_user__jIRxJ",dropdown_menu:"authenticate_dropdown_menu__61DoN",messages:"authenticate_messages__0BwC7",notifications:"authenticate_notifications__pS3li",heading:"authenticate_heading__5nAdD",alert:"authenticate_alert__nrdrw",message:"authenticate_message__fIItZ",user_header:"authenticate_user_header__p1R4b",avatar:"authenticate_avatar___uQfO",authenticate:"authenticate_authenticate__qTC0D",circle:"authenticate_circle__9lsks",signup:"authenticate_signup__Y__vQ"}},9825:function(e,a,t){"use strict";t.r(a);var n=t(5893),s=t(6154),i=t(7294),r=t(1163),_=t(905),c=t(8044),l=t(8401);a.default=e=>{let{backendhost:a}=e,[t,h]=(0,i.useState)(""),[d,o]=(0,i.useState)({email:"",password1:"",password2:""}),u=(0,c.E)(c.R.header.logo),p=(0,r.useRouter)(),g=e=>{let{name:a,value:t}=e.target;o(e=>({...e,[a]:t}))},m=async e=>{if(e.preventDefault(),d.password1!==d.password2)h("Passwords do not match");else try{let e=await s.Z.post("".concat(a,"/members/check_email"),{email:d.email});if(200===e.status&&e.data.exists)h("Email already exists");else try{let e=await s.Z.post("".concat(a,"/members/register"),{email:d.email,password:d.password1});201===e.status?(h(null),p.push(_.Xy.find(e=>"Login"===e.name).path)):h("Server error, try again later")}catch(e){h("Error, refresh"),console.log(e)}}catch(e){h("Server error, refresh"),console.log(e)}};return(0,n.jsx)("section",{id:l.authenticate,children:(0,n.jsx)("aside",{children:(0,n.jsxs)("form",{onSubmit:m,id:l.signup,children:[(0,n.jsx)("div",{className:l.circle,children:(0,n.jsx)("img",{src:u,alt:"logo"})}),(0,n.jsx)("h3",{children:"RWANDA SCOUTS ASSOCIATION"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("h4",{children:"Register"}),(0,n.jsx)("p",{children:"Please fill in this form to create an account."})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("p",{children:"Email"}),(0,n.jsx)("input",{id:l.email,placeholder:"Enter Email",name:"email",type:"email",required:!0,value:d.email,onChange:g})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("p",{children:"Password"}),(0,n.jsx)("input",{id:l.psw,placeholder:"Enter Password",name:"password1",type:"password",required:!0,value:d.password1,onChange:g})]}),(0,n.jsxs)("label",{children:[(0,n.jsx)("p",{children:"Repeat Password"}),(0,n.jsx)("input",{id:l.psw_repeat,placeholder:"Repeat Password",name:"password2",type:"password",required:!0,value:d.password2,onChange:g})]}),(0,n.jsx)("button",{type:"submit",children:"SIGNUP"}),(0,n.jsxs)("p",{children:["Already have an account?"," ",_.Xy.find(e=>"Login"===e.name)&&(0,n.jsx)("a",{href:_.Xy.find(e=>"Login"===e.name).path,children:"Login"})]}),t&&(0,n.jsx)("p",{className:"error",children:t})]})})})}}},function(e){e.O(0,[154,774,888,179],function(){return e(e.s=9350)}),_N_E=e.O()}]);