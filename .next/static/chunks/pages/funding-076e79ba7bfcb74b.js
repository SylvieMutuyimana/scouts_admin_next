(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{5672:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/funding",function(){return n(4887)}])},3666:function(e){e.exports={Funding:"Funding_Funding__x5Z7G",fund_projects:"Funding_fund_projects__bGx0C",fund_timeline:"Funding_fund_timeline__WriH8","chartjs-render-monitor":"Funding_chartjs-render-monitor__xu82v",action:"Funding_action__WUy10",action_content:"Funding_action_content__BKIRN",show:"Funding_show__tJV4N",chart_container:"Funding_chart_container__IJbrT",projects:"Funding_projects__Xjikg"}},4887:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r,i=n(5893),l=n(7294),a=n(3148);let s="label";function d(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r=[];e.datasets=t.map(t=>{let i=e.datasets.find(e=>e[n]===t[n]);return!i||!t.data||r.includes(i)?{...t}:(r.push(i),Object.assign(i,t),i)})}let o=(0,l.forwardRef)(function(e,t){let{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:u,data:h,options:j,plugins:m=[],fallbackContent:g,updateMode:b,...p}=e,f=(0,l.useRef)(null),_=(0,l.useRef)(),v=()=>{f.current&&(_.current=new a.kL(f.current,{type:u,data:function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,r={labels:[],datasets:[]};return t=e.labels,r.labels=t,c(r,e.datasets,n),r}(h,o),options:j&&{...j},plugins:m}),d(t,_.current))},x=()=>{d(t,null),_.current&&(_.current.destroy(),_.current=null)};return(0,l.useEffect)(()=>{!i&&_.current&&j&&function(e,t){let n=e.options;n&&t&&Object.assign(n,t)}(_.current,j)},[i,j]),(0,l.useEffect)(()=>{if(!i&&_.current){var e,t;e=_.current.config.data,t=h.labels,e.labels=t}},[i,h.labels]),(0,l.useEffect)(()=>{!i&&_.current&&h.datasets&&c(_.current.config.data,h.datasets,o)},[i,h.datasets]),(0,l.useEffect)(()=>{_.current&&(i?(x(),setTimeout(v)):_.current.update(b))},[i,j,h.labels,h.datasets,b]),(0,l.useEffect)(()=>{_.current&&(x(),setTimeout(v))},[u]),(0,l.useEffect)(()=>(v(),()=>x()),[]),l.createElement("canvas",Object.assign({ref:f,role:"img",height:n,width:r},p),g)}),u=(r=a.vn,a.kL.register(r),(0,l.forwardRef)((e,t)=>l.createElement(o,Object.assign({},e,{ref:t,type:"bar"}))));n(9085);var h=n(3666),j=e=>{var t,n,r,a,s,d;let{all_timeline:c,all_projects:o}=e,[j,m]=(0,l.useState)({timeline:2022,projects:2022}),[g,b]=(0,l.useState)(),[p,f]=(0,l.useState)();(0,l.useEffect)(()=>{c&&c.length>0&&(f(c),m(e=>({...e,timeline:Object.keys(c)[0]})))},[c]),(0,l.useEffect)(()=>{o&&o.length>0&&(b(o),m(e=>({...e,projects:Object.keys(o)[0]})))},[o]);let _=(e,t)=>null==t?void 0:t.find(t=>t.year===e),v={projects:_(j.projects,g),timeline:_(j.timeline,p)},x=e=>{let{name:t,value:n}=e.target;console.log(t,": ",n),m(e=>({...e,[t]:parseInt(n)}))},[k,w]=(0,l.useState)({timeline:null,projects:null}),[E,C]=(0,l.useState)({timeline:null,projects:null});(0,l.useEffect)(()=>{if(v&&v.length>0){var e;w(e=>({...e,timeline:v.timeline,projects:v.projects})),C(null===(e=Object)||void 0===e?void 0:e.keys(k.timeline)),C(e=>{var t,n;return{...e,timeline:null===(t=Object)||void 0===t?void 0:t.keys(k.timeline),projects:null===(n=Object)||void 0===n?void 0:n.keys(k.projects)}})}},[v]);let F={labels:E.timeline,datasets:[{label:"Target",data:null===(t=E.timeline)||void 0===t?void 0:t.map(e=>k.timeline[e].target),backgroundColor:"rgba(255, 99, 132, 0.7)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"Raised",data:null===(n=E.timeline)||void 0===n?void 0:n.map(e=>k.timeline[e].raised),backgroundColor:"rgba(75, 192, 192, 0.7)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},y={projects:{headers:["Project","Target amount","Raised amount","Remaining amount"],rows:null==v?void 0:null===(r=v.projects)||void 0===r?void 0:r.projects.map(e=>[e.name,e.target,e.raised,e.target-e.raised])},timeline:{headers:["Month","Target amount","Raised amount","Remaining amount"],rows:(null==v?void 0:v.timeline)?Object.entries(v.timeline).map(e=>{let[t,n]=e;return[t,n.target,n.raised,n.target-n.raised]}):[]}},O={labels:E.projects,datasets:[{label:"Target",backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,data:null===(a=E.projects)||void 0===a?void 0:a.map(e=>k.timeline[e].target)},{label:"Raised",backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,data:null===(s=E.projects)||void 0===s?void 0:s.map(e=>k.timeline[e].raised)},{label:"Remaining",backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,data:null===(d=E.projects)||void 0===d?void 0:d.map(e=>k.timeline[e].target-k.timeline[e].raised)}]};return(0,i.jsx)("div",{id:h.Funding,children:(0,i.jsxs)("section",{children:[(0,i.jsx)("h4",{children:(0,i.jsx)("a",{children:"View and Edit in Google Sheets"})}),(0,i.jsxs)("article",{children:[(0,i.jsx)("h5",{children:"Current Project Funding"}),(0,i.jsxs)("div",{id:h.fund_projects,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"selectYear",children:"Select year:"}),(0,i.jsx)("select",{id:h.selectYear,name:"projects",value:j.projects,onChange:x,children:g&&g.length>0&&Object.keys(g).map(e=>(0,i.jsx)("option",{value:e,children:e}))})]}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:v&&v.length>0&&y.projects.headers.map(e=>(0,i.jsx)("th",{children:e},e))})}),(0,i.jsx)("tbody",{children:v&&v.length>0&&y.projects.rows.map((e,t)=>(0,i.jsx)("tr",{children:e.map((e,t)=>(0,i.jsx)("td",{children:e},t))},t))})]}),(0,i.jsx)("div",{className:"".concat(h.chart_container," ").concat(h.projects),children:(0,i.jsx)(u,{data:O})})]})]}),(0,i.jsxs)("article",{children:[(0,i.jsx)("h4",{children:"Funding Timeline"}),(0,i.jsxs)("div",{id:h.fund_timeline,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"selectYear",children:"Select Year: "}),(0,i.jsx)("select",{id:h.selectYear,value:j.timeline,name:"timeline",onChange:x,children:p&&p.length>0&&Object.keys(p).map(e=>(0,i.jsx)("option",{value:e,children:e}))})]}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsx)("tr",{children:v&&v.length>0&&y.timeline.headers.map(e=>(0,i.jsx)("th",{children:e},e))})}),(0,i.jsx)("tbody",{children:v&&v.length>0&&y.timeline.rows.map((e,t)=>(0,i.jsx)("tr",{children:e.map((e,t)=>(0,i.jsx)("td",{children:e},t))},t))})]}),v&&v.length>0&&k.timeline&&k.timeline.length>0&&E.timeline&&E.timeline.length>0&&(0,i.jsx)("div",{className:"".concat(h.chart_container," ").concat(h.timeline),children:(0,i.jsx)(u,{data:F})})]})]})]})})}}},function(e){e.O(0,[196,352,774,888,179],function(){return e(e.s=5672)}),_N_E=e.O()}]);