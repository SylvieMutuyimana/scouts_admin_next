(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[152],{4167:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery/addmedia",function(){return l(614)}])},1799:function(e){e.exports={Gallery:"Gallery_Gallery__CdT8B",MediaView:"Gallery_MediaView__SVW_i",AddMedia:"Gallery_AddMedia__RDkNF",error:"Gallery_error__Q8_RH",back:"Gallery_back__bkaGD",show:"Gallery_show__l9xd5",clear:"Gallery_clear__9igTM",media:"Gallery_media__gXosp",upload_item:"Gallery_upload_item__Xin07",gallery_item:"Gallery_gallery_item__wRSCT",upload_media:"Gallery_upload_media__Cet0O",image_container:"Gallery_image_container__M15pU"}},614:function(e,a,l){"use strict";l.r(a);var i=l(5893),t=l(7294),r=l(1163),n=l(1799),s=l(905);a.default=e=>{let{all_gallery:a}=e,[l,d]=(0,t.useState)(14);(0,t.useEffect)(()=>{d(a)},[a]);let[c,u]=(0,t.useState)([]),[_,o]=(0,t.useState)(""),m=(0,r.useRouter)(),h=(e,a)=>{let l=[...c];l[a].description=e.target.value,u(l)},p=(0,t.useRef)(null);return(0,t.useEffect)(()=>{let e=p.current,a=document.getElementsByTagName("input");return e.addEventListener("click",function(){for(let e=0;e<a.length;e++)a[e].value=""}),()=>{e.removeEventListener("click",function(){for(let e=0;e<a.length;e++)a[e].value=""})}},[]),(0,i.jsx)("section",{id:n.Gallery,children:(0,i.jsxs)("div",{id:n.AddMedia,children:[(0,i.jsxs)("nav",{children:[(0,i.jsx)("article",{children:s.Xy.find(e=>"MediaView"===e.name)&&(0,i.jsx)("a",{href:s.Xy.find(e=>"MediaView"===e.name).path,children:(0,i.jsx)("button",{className:n.back,children:(0,i.jsx)("i",{className:"fa fa-arrow-left"})})})}),(0,i.jsx)("aside",{children:(0,i.jsx)("button",{className:n.clear,type:"button",ref:p,children:"Clear"})})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h3",{children:"Add Media"}),(0,i.jsxs)("div",{className:n.upload_media,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Upload the images. You can select up to 6."}),(0,i.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{let a=e.target.files;if(a.length>6){alert("You can upload a maximum of ".concat(6," images."));return}let l=Array.from(a).map(e=>({id:c.length+1,image:URL.createObjectURL(e),description:""}));u([...c,...l])}})]}),(0,i.jsx)("div",{className:n.upload_item,children:c.map((e,a)=>(0,i.jsxs)("div",{className:n.image_container,children:[(0,i.jsx)("img",{src:e.image,alt:""}),(0,i.jsx)("textarea",{placeholder:"Add description",value:e.description,onChange:e=>h(e,a)})]},e.id))})]}),(0,i.jsx)("button",{onClick:()=>{if(0===c.length){alert("Please upload at least one image.");return}if(c.length>6){alert("You can upload a maximum of 6 images.");return}let e=[...c];u([]),o("".concat(e.length," images uploaded successfully.")),m.push("/Gallery/MediaView")},disabled:c.length>=6,children:"Add Images"}),_&&(0,i.jsx)("div",{className:n.success_message,children:_})]})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4167)}),_N_E=e.O()}]);