(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{9804:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports",function(){return r(658)}])},7424:function(e){e.exports={Reports:"Reports_Reports__GQEUk",error:"Reports_error__hdcvu",Action:"Reports_Action__jUiME",Address:"Reports_Address__eVwTG",District:"Reports_District__3uhMx",Tenure:"Reports_Tenure__VovPY",Author:"Reports_Author__q4gK2",Occupation:"Reports_Occupation__RvC6u",Date_Uploaded:"Reports_Date_Uploaded__okDAZ",Age:"Reports_Age__6TMsw",Contact:"Reports_Contact__b0Oyu",Date_Published:"Reports_Date_Published__Bs7gk"}},658:function(e,t,r){"use strict";r.r(t);var s=r(5893),l=r(7294),a=r(7424),o=r(905);t.default=e=>{let{all_reports:t}=e,[r,n]=(0,l.useState)(),[i,c]=(0,l.useState)("all"),[d,h]=(0,l.useState)();(0,l.useEffect)(()=>{if(n(t),console.log("reportsInfo: ",r),t&&Object.keys(t).length>0){let e=[];"all"===i?t.years.forEach(t=>{e.push(...t.reports)}):t[years].map(t=>{Object.entries(t).map(t=>{let[r,s]=t;r===i&&(e=s.reports)})}),console.log("selectedYear: ",i),console.log("the_reports: ",e),h(e)}},[t]),console.log("all_reports: ",t&&t.length?t.length:t),console.log("reportsInfo: ",r),console.log("filteredReports: ",d);let p=(e,t)=>{e.preventDefault();let r=d.filter(e=>e!==t);h(r)};return(0,s.jsx)("div",{id:a.Reports,children:(0,s.jsxs)("section",{children:[(0,s.jsxs)("nav",{children:[(0,s.jsxs)("article",{children:[(0,s.jsx)("label",{htmlFor:"yearFilter",children:"Filter by year:"}),(0,s.jsxs)("select",{id:"yearFilter",name:"yearFilter",value:i,onChange:e=>{if(r&&Object.keys(r).length>0){c(e.target.value);let t="all"===e.target.value?null==r?void 0:r.years.flatMap(e=>e.reports):null==r?void 0:r.years.find(t=>t.year===parseInt(e.target.value)).reports;h(t)}},children:[(0,s.jsx)("option",{value:"all",children:"All"}),r&&Object.keys(r).length>0&&r.years.map(e=>(0,s.jsx)("option",{value:e.year,children:e.year}))]})]}),(0,s.jsx)("aside",{style:{display:"block"},children:o.Xy.find(e=>"AddReport"===e.name)&&(0,s.jsx)("a",{href:o.Xy.find(e=>"AddReport"===e.name).path,children:(0,s.jsxs)("button",{children:[(0,s.jsx)("i",{className:"material-icons",children:"add"})," New Report"]})})})]}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:r&&Object.keys(r).length>0&&r.headers.map(e=>(0,s.jsx)("th",{className:a[e],children:e},e))})}),(0,s.jsx)("tbody",{children:null==d?void 0:d.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:a.Author,children:e.author}),(0,s.jsx)("td",{className:a.Report,children:e.report}),(0,s.jsx)("td",{className:a.Date_Published,children:e.published}),(0,s.jsx)("td",{className:a.Date_Uploaded,children:e.uploaded}),(0,s.jsxs)("td",{className:a.Action,children:[(0,s.jsx)("a",{href:e.link,children:"Read"}),(0,s.jsx)("a",{href:"#",onClick:t=>p(t,e),children:(0,s.jsx)("i",{className:"fas fa-trash-alt"})})]})]},"".concat(e.author,"-").concat(e.published)))})]})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9804)}),_N_E=e.O()}]);