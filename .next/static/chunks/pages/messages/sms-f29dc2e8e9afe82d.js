(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[432],{2822:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/messages/sms",function(){return n(2913)}])},9845:function(e){e.exports={SMS:"Message_Links_SMS__86Cfb",Email:"Message_Links_Email__3ZYMm",chat_window:"Message_Links_chat_window__P8ZTC",message_board:"Message_Links_message_board__oImOG",search_bar:"Message_Links_search_bar__KyRG3",active:"Message_Links_active__fzsvw",sender:"Message_Links_sender__zxczY",position:"Message_Links_position__3yyAg",content:"Message_Links_content__vhlzr",timestamp:"Message_Links_timestamp__DHjbs",chat:"Message_Links_chat__9YDum",the_head:"Message_Links_the_head__PTxnB",email:"Message_Links_email__pfbve",email_view:"Message_Links_email_view__GoG9z",body:"Message_Links_body__YOovC",the_message:"Message_Links_the_message__Oq9m_",messages:"Message_Links_messages__AhKGe",message:"Message_Links_message__hlHCw",input:"Message_Links_input__FFtH_",new_form_container:"Message_Links_new_form_container__fr3yt",container:"Message_Links_container__fa3AQ",sms:"Message_Links_sms__MYVJq",recipient:"Message_Links_recipient__wSObL",the_subject:"Message_Links_the_subject__71jj2",the_footer:"Message_Links_the_footer__cclM2",send:"Message_Links_send__KlqWx",close_button:"Message_Links_close_button__T3V9c"}},4687:function(e){e.exports={Messages:"Messages_Messages__ryc_B",ul1:"Messages_ul1__Qi9fG",ul2:"Messages_ul2__Ef1Yj",new_form_container:"Messages_new_form_container__1yxRN",container:"Messages_container__stXc8",sms:"Messages_sms__yMEO2",the_head:"Messages_the_head__ubaki",recipient:"Messages_recipient__VE0fV",the_subject:"Messages_the_subject__Kd6tm",body:"Messages_body__BJTGn",the_footer:"Messages_the_footer___AaRz",send:"Messages_send__XLADj"}},3398:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return l}});var i=n(5893),a=n(4687),t={src:"/_next/static/media/new_email.0b20bfc9.png",height:175,width:190,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAQAAACfUMTVAAAAgklEQVR42gF3AIj/AOIH+kv8XPxp/GX8W/s3/wAA+TL86vyE/UP8S/yy+8j/AAD8QfqA+l36Zvtx+lH5mPQOAPtF+mT8APo9+yL/APVD6wMA+0L7mv0v/S/pBPuG+2j/AAD1C/xr/Hr8dfYq/LP8p+0LAPcA/QD+AP0A+QD0HPET+ADbwUXOsP330QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:7},_=n(7294),c=n(905),l=function(e){let{children:s,user_id:n}=e,[l,r]=(0,_.useState)(""),[d,o]=(0,_.useState)(""),[h,m]=(0,_.useState)(null),[u,j]=(0,_.useState)(null),[g,x]=(0,_.useState)((0,i.jsx)("div",{className:a.chat})),f=()=>{x((0,i.jsx)("div",{className:a.chat}))},p=e=>{let{NewEmailWindow:s}=e,[n,t]=(0,_.useState)(""),[c,l]=(0,_.useState)(""),[r,d]=(0,_.useState)("");return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{id:"".concat(a.new_form_container," ").concat(a.email),children:s}),(0,i.jsx)("div",{id:a.new_form_container,children:(0,i.jsxs)("div",{className:a.container,children:[(0,i.jsxs)("div",{className:a.the_head,children:[(0,i.jsx)("article",{children:(0,i.jsx)("h4",{children:"New Email"})}),(0,i.jsx)("aside",{children:(0,i.jsx)("button",{onClick:f,id:a.close_button,children:(0,i.jsx)("i",{class:"fa fa-window-close"})})})]}),(0,i.jsxs)("div",{className:a.recipient,children:["Recipients:"," ",(0,i.jsx)("input",{type:"text",value:n,onChange:e=>t(e.target.value),placeholder:"Enter email here"})]}),(0,i.jsxs)("div",{className:a.the_subject,children:["Subject:"," ",(0,i.jsx)("input",{type:"text",value:c,onChange:e=>l(e.target.value),placeholder:"Subject"})]}),(0,i.jsxs)("div",{className:a.body,children:[" ",(0,i.jsx)("textarea",{id:a.body,value:r,onChange:e=>d(e.target.value),placeholder:"The Body"})]}),(0,i.jsx)("div",{className:a.the_footer,children:(0,i.jsxs)("button",{onClick:()=>{},id:a.send,children:["Send",(0,i.jsx)("i",{class:"material-icons",children:"send"})]})})]})})]})};return(0,i.jsxs)("div",{id:a.Messages,children:[(0,i.jsxs)("nav",{children:[(0,i.jsxs)("ul",{className:a.ul1,children:[c.Xy.find(e=>"Emails"===e.name)&&(0,i.jsx)("a",{href:c.Xy.find(e=>"Emails"===e.name).path,children:(0,i.jsxs)("li",{children:[(0,i.jsx)("i",{className:"material-icons",children:"email"}),"EMAIL"]})}),c.Xy.find(e=>"SMS"===e.name)&&(0,i.jsx)("a",{href:c.Xy.find(e=>"SMS"===e.name).path,children:(0,i.jsxs)("li",{children:[(0,i.jsx)("i",{className:"material-icons",children:"textsms"}),"CONTACTS"]})})]}),(0,i.jsx)("ul",{className:a.ul2,children:(0,i.jsx)("aside",{children:(0,i.jsx)("li",{children:c.Xy.find(e=>"NewEmail"===e.name)&&(0,i.jsx)("a",{href:c.Xy.find(e=>"NewEmail"===e.name).path,children:(0,i.jsx)("button",{onClick:()=>{m(null),x((0,i.jsx)(p,{NewEmailWindow:g}))},children:(0,i.jsx)("img",{src:t,alt:"new_email"})})})})})})]}),(0,i.jsx)("section",{children:_.Children.map(s,e=>_.cloneElement(e,{searchQuery:d,setSearchQuery:o,activeCONTACT:u,setActiveCONTACT:j}))})]})}},2913:function(e,s,n){"use strict";n.r(s);var i=n(5893),a=n(7294),t=n(9845),_=n(3398);s.default=e=>{let{all_messages:s,user_id:n}=e,[c,l]=(0,a.useState)(null),[r,d]=(0,a.useState)([]),[o,h]=(0,a.useState)();(0,a.useEffect)(()=>{if(s&&s.length>0&&n){let e=s.find(e=>String(n)===String(e.userid));if(e){let s=o?e.Contacts.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())):e.Contacts;d(s)}}},[s,n,o]);let m=e=>{l(e),console.log("setting the contact: ",e)};return(0,i.jsx)(_.default,{children:(0,i.jsxs)("div",{id:t.SMS,children:[(0,i.jsxs)("div",{id:t.message_board,children:[(0,i.jsxs)("div",{className:t.search_bar,children:[(0,i.jsx)("input",{type:"text",placeholder:"Search Contact",value:o,onChange:e=>h(e.target.value)}),(0,i.jsx)("button",{onClick:()=>h(""),children:"Clear"})]}),r&&r.length>0&&r.map(e=>(0,i.jsxs)("ul",{className:"contactItem ".concat(c&&c.id===e&&e.id?"active":""),onClick:()=>m(e),children:[(0,i.jsx)("li",{className:t.sender,children:e&&e.name}),(0,i.jsx)("li",{className:t.content,children:e&&e.contact.phone})]}))]}),(0,i.jsx)("div",{id:t.chat_window,children:c&&Object.keys(c).length>0&&(e=>{let s=e=>{window.location.href="https://api.whatsapp.com/send?phone=".concat(encodeURIComponent(e))};return(0,i.jsx)("div",{className:t.chat,children:(0,i.jsx)("div",{className:t.position,children:(0,i.jsxs)("ul",{style:{listStyleType:"none"},children:[(0,i.jsx)("br",{}),(0,i.jsx)("li",{children:(0,i.jsx)("h4",{children:" User Details "})}),(0,i.jsx)("li",{children:e&&e.name}),(0,i.jsx)("br",{}),(0,i.jsx)("li",{children:e&&e.position}),(0,i.jsx)("br",{}),(0,i.jsx)("li",{children:e&&"Volunteer"===e.position?"".concat(e&&e.volunteerTime.startDate," - ").concat(e&&e.volunteerTime.endDate):"".concat(e&&e.role)}),(0,i.jsx)("br",{}),(0,i.jsx)("li",{children:e&&e.street}),(0,i.jsx)("br",{}),(0,i.jsxs)("li",{children:["+25",e&&e.contact.phone]}),(0,i.jsx)("br",{}),(0,i.jsx)("li",{children:(0,i.jsxs)("i",{onClick:()=>s(e&&e.contact.phone),children:[(0,i.jsx)("b",{children:"Redirect to WhatsApp"})," "]})})]})})})})(c)})]})})}}},function(e){e.O(0,[410,774,888,179],function(){return e(e.s=2822)}),_N_E=e.O()}]);